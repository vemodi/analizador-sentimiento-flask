<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Clasificador de Sentimiento (Full Stack + IA)</title>
    <style>
        /* Estilos CSS muy b谩sicos (C贸mo se ve) */
       body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Fuente moderna */
            max-width: 700px; 
            margin: 50px auto; 
            padding: 30px; 
            background-color: #f4f7f9; /* Fondo gris muy claro */
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Sombra suave */
        }
        button { 
            background-color: #007bff; /* Color azul brillante para acento */
            color: white; 
            padding: 12px 20px; 
            border: none; 
            cursor: pointer; 
            border-radius: 6px; 
            margin-top: 15px; 
            font-size: 16px;
            transition: background-color 0.3s; /* Animaci贸n al pasar el rat贸n */
        }
        button:hover { /* Lo que sucede cuando pasas el rat贸n */
            background-color: #0056b3; 
        }
        textarea { 
            width: 100%; 
            min-height: 150px; 
            padding: 15px; /* M谩s espacio interior */
            box-sizing: border-box; 
            border: 1px solid #ced4da; /* Borde m谩s suave */
            border-radius: 6px; 
            resize: none; /* No permite redimensionar */
            font-size: 16px;
        }

        #resultado { 
            margin-top: 25px; 
            padding: 20px; 
            border: none; 
            background-color: white; /* Fondo blanco para el resultado */
            border-left: 5px solid #007bff; /* Una barra azul decorativa a la izquierda */
            border-radius: 6px; 
            font-weight: bold; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body>

    <h1>Analizador de Sentimiento con IA</h1>
    <p>Ingresa un texto para que nuestro modelo de PNL (Procesamiento de Lenguaje Natural) determine si es positivo, negativo o neutral.</p>

    <textarea id="texto_a_analizar" placeholder="Escribe aqu铆 tu opini贸n, comentario o rese帽a..."></textarea>
    <button onclick="analizarSentimiento()">Analizar</button>

    <div id="resultado">Esperando an谩lisis...</div>

    <script>
        //  La parte JavaScript: Conecta esta p谩gina con el Mesero (app.py)

        function analizarSentimiento() {
            // 1. Obtener el texto que el usuario escribi贸
            const texto = document.getElementById('texto_a_analizar').value;
            const resultadoDiv = document.getElementById('resultado');
            resultadoDiv.innerHTML = 'Analizando...'; // Muestra "Analizando..." mientras espera

            // 2. Preparamos el pedido (los datos que vamos a enviar al Mesero)
            const data = {
                texto: texto
            };

            // 3. Hacemos el Pedido al Mesero (Flask)
            // fetch es la herramienta para hablar con el servidor web
            fetch('/analizar_sentimiento', {
                method: 'POST', // Le dice al Mesero que estamos enviando datos (POST)
                headers: {
                    'Content-Type': 'application/json' // Le dice que los datos son JSON
                },
                body: JSON.stringify(data) // Enviamos el texto en el formato correcto
            })
            // 4. Esperamos la respuesta del Mesero (la funci贸n .then)
            .then(response => response.json()) // Convierte la respuesta del Mesero (JSON) en datos que JavaScript entiende
            .then(data => {
                // 5. Mostrar el Resultado en la pantalla
                if (data.error) {
                    resultadoDiv.innerHTML = `Error: ${data.error}`;
                } else {
                    resultadoDiv.innerHTML = `
                        Sentimiento Detectado: <strong>${data.sentimiento}</strong><br>
                        Puntuaci贸n de Polaridad: ${data.polaridad.toFixed(4)}
                    `;
                }
            })
            // 6. Si algo falla (ej. el servidor est谩 apagado)
            .catch(error => {
                resultadoDiv.innerHTML = 'Ocurri贸 un error al conectar con el servidor.';
                console.error('Error:', error);
            });
        }
    </script>

</body>
</html>